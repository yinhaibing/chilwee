# 抽奖记录查询功能说明

## 📊 当前系统已自动记录

### 自动记录的信息

当用户抽奖时，系统会自动记录以下信息：

**Firebase 数据库中：**
```json
{
  "lotteryCodes": {
    "CW2026001": {
      "status": "used",
      "usedBy": "",
      "usedTime": "2026-02-23 14:30:00",
      "prize": "一等奖：飞天茅台"
    }
  },
  "drawRecords": {
    "record_1234567890": {
      "code": "CW2026001",
      "prize": "一等奖：飞天茅台",
      "time": "2026-02-23 14:30:00"
    }
  }
}
```

### 查看方式

#### 方式1：后台管理页面查看（推荐）

1. **打开后台管理页面**
   ```
   C:\Users\Haibin\Desktop\超威电池开门红抽奖小游戏\admin.html
   ```

2. **输入管理密码**
   ```
   chaowei2026
   ```

3. **查看抽奖记录**
   - 滚动到"抽奖记录"区域
   - 可以看到所有中奖记录，包括：
     - 抽奖码
     - 中奖时间
     - 中奖奖品

4. **导出记录**
   - 点击"导出记录"按钮
   - 下载 CSV 文件
   - 可以用 Excel 打开查看

#### 方式2：Firebase Console 查看

1. **访问 Firebase Console**
   ```
   https://console.firebase.google.com/
   ```

2. **选择项目**：chilwee

3. **查看数据库**
   - 左侧菜单 → 构建 → 实时数据库
   - 可以看到：
     - `lotteryCodes` - 抽奖码使用状态
     - `drawRecords` - 抽奖记录

4. **导出数据**
   - 点击数据旁边的三个点
   - 选择"导出 JSON"
   - 下载完整的数据库备份

---

## 🎯 查询特定抽奖码的中奖结果

### 方法1：通过抽奖码查询

**在 Firebase Console 中：**

1. 打开实时数据库
2. 展开 `lotteryCodes`
3. 找到对应的抽奖码
4. 查看 `prize` 字段

**示例：**
```
lotteryCodes
  └── CW2026001
      ├── status: "used"
      ├── usedTime: "2026-02-23 14:30:00"
      └── prize: "一等奖：飞天茅台"  ← 中奖结果
```

### 方法2：通过抽奖记录查询

**在后台管理页面中：**

1. 打开抽奖记录表格
2. 使用浏览器搜索功能（Ctrl+F）
3. 输入抽奖码
4. 查看对应的中奖记录

---

## 📈 统计功能

### 当前后台显示的统计信息

在后台管理页面可以看到：

1. **抽奖码统计**
   - 总数
   - 未使用数量
   - 已使用数量

2. **奖品统计**
   - 总概率
   - 奖品总数
   - 已抽奖次数

### 自定义统计建议

如果需要更详细的统计，可以：

1. **导出记录到 Excel**
2. **使用数据透视表分析**
3. **生成统计图表**

---

## 🔍 高级查询功能

如果需要添加更多查询功能，可以考虑：

### 功能1：按抽奖码搜索

在后台添加搜索框，输入抽奖码即可查询

### 功能2：按时间范围筛选

选择开始时间和结束时间，查看该时间段的中奖记录

### 功能3：按奖品筛选

查看某个具体奖品的中奖情况

### 功能4：用户信息记录

记录使用抽奖码的用户信息（如姓名、电话等）

---

## 💡 使用场景示例

### 场景1：客户询问中奖结果

**操作步骤：**
1. 客户提供抽奖码：CW2026001
2. 打开后台管理页面
3. 在抽奖记录中搜索该抽奖码
4. 告知客户中奖结果

### 场景2：统计活动效果

**操作步骤：**
1. 打开后台管理页面
2. 点击"导出记录"
3. 在 Excel 中分析数据
4. 统计：
   - 参与人数
   - 中奖率
   - 各奖品中奖数量

### 场景3：奖品发放

**操作步骤：**
1. 导出抽奖记录
2. 筛选出某个奖品的记录
3. 联系中奖客户
4. 安排奖品发放

---

## ⚠️ 注意事项

1. **数据同步**：Firebase 实时同步，数据会立即更新
2. **数据备份**：定期导出数据备份
3. **权限控制**：不要将管理密码泄露给他人
4. **记录永久保存**：Firebase 会永久保存记录，直到手动删除

---

## 🆘 常见问题

### Q: 如何查询某个抽奖码是否中奖？
A: 在后台管理页面查看"已使用的抽奖码"区域，找到对应抽奖码即可看到中奖结果。

### Q: 能否修改抽奖记录？
A: 不建议修改。如果确实需要修改，可以在 Firebase Console 中直接修改数据。

### Q: 删除抽奖码会删除记录吗？
A: 不会。抽奖码和抽奖记录是分开存储的，删除抽奖码不会影响历史记录。

### Q: 数据会保存多久？
A: Firebase 免费版会永久保存数据，直到手动删除或超过存储限额。

---

© 2026 超威电池 | 超威动力 动力中国